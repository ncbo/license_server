= render partial: 'layouts/errors'


%table.form
  - if @license.id
    %tr
      %th License&nbsp;ID:
      %td.top= @license.id
  %tr
    %th Appliance&nbsp;ID: *
    %td.top= text_field :license, :appliance_id, value: @license.appliance_id, required: true, oninvalid: "this.setCustomValidity('Please enter a valid Appliance ID')", oninput: "this.setCustomValidity('')", class: "required"
  %tr
    %th First&nbsp;Name: *
    %td.top= text_field :license, :first_name, value: @license.first_name, required: true, oninvalid: "this.setCustomValidity('Please enter your first name')", oninput: "this.setCustomValidity('')", class: "required"
  %tr
    %th Last&nbsp;Name: *
    %td.top= text_field :license, :last_name, value: @license.last_name, required: true, oninvalid: "this.setCustomValidity('Please enter your last name')", oninput: "this.setCustomValidity('')", class: "required"
  %tr
    %th Organization: *
    %td.top= text_field :license, :organization, value: @license.organization, required: true, oninvalid: "this.setCustomValidity('Please enter the name of your organization or company')", oninput: "this.setCustomValidity('')", class: "required"
  %tr
    %th Project&nbsp;Purpose: *
    %td= select :license, :license_purpose_id, @license_purposes.map {|lic| [lic.name, lic.id]}, {include_blank: 'Please Select:'}, required: true, oninvalid: "this.setCustomValidity('Please select your purpose from the list')", oninput: "this.setCustomValidity('')", class: "required"
  - if current_user_admin?
    %tr
      %th Approval&nbsp;Status: *
      %td= select :license, :approval_status, License.approval_statuses, {include_blank: 'Please Select:'}, required: true, oninvalid: "this.setCustomValidity('Please select the approval status')", oninput: "this.setCustomValidity('')", class: "required"
  %tr
    %th Project&nbsp;Information: *
    %td= text_area :license, :project_info, value: @license.project_info, rows: 6, required: true, oninvalid: "this.setCustomValidity('Please include some information about your project')", oninput: "this.setCustomValidity('')", class: "required"
  %tr
    %th Reason&nbsp;for&nbsp;Needing&nbsp;Appliance: *
    %td= text_area :license, :reason, value: @license.reason, rows: 6, required: true, oninvalid: "this.setCustomValidity('Please describe your reason for needing an appliance')", oninput: "this.setCustomValidity('')", class: "required"
  - if current_user_admin?
    %tr
      %th Identification:
      %td= text_area :license, :identification, value: @license.identification, rows: 6
    %tr
      %th Comments:
      %td= text_area :license, :comments, value: @license.comments, rows: 6
